<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<title>L·ªãch Tr√¨nh Ch·∫°y M√°y</title>
<style>
body {
  font-family: 'Inter', sans-serif;
  background: linear-gradient(135deg, #e7f0ff, #ffffff);
  display: flex; flex-direction: column; align-items: center;
  min-height: 100vh; margin: 0; padding: 30px 10px;
}
h1 {
  font-size: 2.2rem;
  font-weight: 800;
  color: #0078ff;
  text-shadow: 0 2px 4px rgba(0,0,0,0.25);
  margin-bottom: 25px;
  text-align: center;
  animation: fadeIn 0.8s ease-out;
}

/* CARD */
.container {
  background: #ffffff;
  border-radius: 20px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.12), inset 0 0 15px rgba(0,122,255,0.08);
  width: 100%; max-width: 500px;
  padding: 25px;
  margin-bottom: 25px;
  transition: all 0.4s ease;
  border: 2px solid rgba(0,123,255,0.25);
}
.container:hover {
  transform: translateY(-4px);
  box-shadow: 0 18px 35px rgba(0,123,255,0.25);
}

/* INPUT */
label {
  display: block;
  font-weight: 600;
  color: #004b9a;
  margin-bottom: 6px;
  font-size: 0.95rem;
}
input {
  width: 100%;
  padding: 12px;
  margin-bottom: 16px;
  border-radius: 10px;
  border: 2px solid #d6e4ff;
  background: linear-gradient(145deg, #f9fbff, #eef5ff);
  font-size: 15px;
  text-align: center;
  transition: all 0.3s;
}
input:focus {
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 8px rgba(0,123,255,0.4);
  transform: scale(1.02);
}

/* BUTTON */
button {
  background: linear-gradient(90deg, #007bff, #00aaff);
  color: #fff;
  font-weight: 700;
  font-size: 16px;
  border-radius: 10px;
  width: 100%;
  padding: 13px;
  cursor: pointer;
  border: none;
  transition: all 0.3s ease;
  box-shadow: 0 5px 15px rgba(0,123,255,0.35);
  overflow: hidden;
}
button:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(0,123,255,0.5);
}
button:active { transform: scale(0.97); }
button::after {
  content: '';
  position: absolute;
  top: 0; left: -70%;
  width: 50%; height: 100%;
  background: rgba(255,255,255,0.25);
  transform: skewX(-20deg);
  transition: left 0.5s;
}
button:hover::after { left: 130%; }
.loading::before {
  content: '';
  display: inline-block;
  width: 14px; height: 14px;
  margin-right: 8px;
  border: 3px solid rgba(255,255,255,0.3);
  border-top-color: #fff;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

/* RESULT */
#result {
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}
#result.show { opacity: 1; transform: translateY(0); }
h2 {
  color: #006ae0;
  text-align: center;
  font-size: 1.3rem;
}

/* TABLE */
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 6px 18px rgba(0,123,255,0.15);
  border: 1px solid rgba(0,123,255,0.25);
}
th {
  background: linear-gradient(180deg, #007bff, #005ecb);
  color: #fff;
  padding: 12px;
  font-size: 0.95rem;
}
td {
  padding: 12px;
  font-size: 0.9rem;
  border-bottom: 1px solid rgba(0,123,255,0.1);
  background: #fafdff;
  text-align: center;
}
tr:nth-child(even) td { background: #f1f6ff; }
tr:hover td {
  background: #e7f1ff;
  box-shadow: inset 0 0 8px rgba(0,123,255,0.2);
  transform: scale(1.01);
}
.animated-row { opacity: 0; animation: slideIn 0.4s ease-out forwards; }

/* ANIMATION */
@keyframes spin { to { transform: rotate(360deg); } }
@keyframes slideIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(15px); }
  to { opacity: 1; transform: translateY(0); }
}

/* üì± RESPONSIVE */
@media (max-width: 480px) {
  body { padding: 20px 8px; }
  h1 { font-size: 1.8rem; margin-bottom: 20px; }
  .container { padding: 20px; border-radius: 16px; }
  input { font-size: 14px; padding: 10px; }
  button { font-size: 15px; padding: 12px; }
  th, td { font-size: 0.85rem; padding: 10px; }
}
</style>
</head>
<body>

<h1>üßæ L·ªãch Ch·∫°y M√°y</h1>

<div class="container">
  <label for="startTime">‚è∞ Gi·ªù B·∫Øt ƒê·∫ßu:</label>
  <input type="text" id="startTime" placeholder="HH:MM ho·∫∑c 8h30">

  <label for="runTime">‚öôÔ∏è Th·ªùi Gian 1 Roll:</label>
  <input type="text" id="runTime" placeholder="VD: 1:15 ho·∫∑c 75">

  <label for="numRolls">üéûÔ∏è S·ªë Roll C·∫ßn Ch·∫°y:</label>
  <input type="number" id="numRolls" value="0" min="0"
    onfocus="if(this.value=='0')this.value='';"
    onblur="if(this.value=='')this.value='0';">

  <button id="calculateBtn" onclick="calculateSchedule()">üöÄ T√≠nh L·ªãch Tr√¨nh</button>
</div>

<div id="result" class="container">
  <p style="text-align:center;color:#777;">Nh·∫≠p th√¥ng tin ƒë·ªÉ xem l·ªãch tr√¨nh...</p>
</div>

<script>
function parseTime(input) {
  input = input.trim().toLowerCase().replace(/[h\s]/g, ':');
  if (/^\d{1,2}:\d{1,2}$/.test(input)) {
    let [h, m] = input.split(':').map(Number);
    return h * 60 + (m || 0);
  }
  if (/^\d{3,4}$/.test(input)) {
    let h = Math.floor(input / 100), m = input % 100;
    return h * 60 + m;
  }
  let n = parseInt(input);
  return isNaN(n) ? 0 : n;
}
function formatMinutesToTime(total) {
  const day = Math.floor(total / (24 * 60));
  const t = total % (24 * 60);
  const h = Math.floor(t / 60), m = t % 60;
  const time = `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}`;
  return day > 0 ? `${time} (Ng√†y +${day})` : time;
}

function calculateSchedule() {
  const btn = document.getElementById('calculateBtn');
  const resultDiv = document.getElementById('result');
  btn.innerHTML = ''; btn.classList.add('loading');

  setTimeout(() => {
    const startStr = document.getElementById('startTime').value;
    const runStr = document.getElementById('runTime').value;
    const rolls = parseInt(document.getElementById('numRolls').value);
    const startMin = parseTime(startStr);
    const runMin = parseTime(runStr);

    btn.classList.remove('loading');
    btn.innerHTML = 'üöÄ T√≠nh L·ªãch Tr√¨nh';

    if (!startStr || !runStr || isNaN(rolls) || rolls <= 0 || runMin <= 0) {
      resultDiv.innerHTML = '<p style="color:red;text-align:center;">‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·ªß v√† h·ª£p l·ªá.</p>';
      return;
    }

    let total = startMin;
    let html = '<h2>üìã L·ªãch Tr√¨nh Chi Ti·∫øt</h2>';
    html += '<table><thead><tr><th>Roll</th><th>B·∫Øt ƒê·∫ßu</th><th>K·∫øt Th√∫c</th></tr></thead><tbody>';
    for (let i = 1; i <= rolls; i++) {
      const st = formatMinutesToTime(total);
      const et = formatMinutesToTime(total + runMin);
      html += `<tr class="animated-row" style="animation-delay:${i * 0.05}s;"><td>Roll ${i}</td><td>${st}</td><td>${et}</td></tr>`;
      total += runMin;
    }
    html += '</tbody></table>';
    resultDiv.innerHTML = html;
    resultDiv.classList.add('show');
  }, 400);
}
</script>
</body>
</html>
