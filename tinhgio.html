<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L·ªãch Tr√¨nh Ch·∫°y M√°y ‚ú®</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

body {
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, #c3d9ff, #f0f5ff);
  background-size: 400% 400%;
  animation: bgMove 12s ease infinite;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
  padding: 40px 10px;
  text-align: center;
  overflow-x: hidden;
}
@keyframes bgMove {
  0% {background-position: 0% 50%;}
  50% {background-position: 100% 50%;}
  100% {background-position: 0% 50%;}
}

h1 {
  font-size: 2.6rem;
  font-weight: 800;
  color: #006cff;
  text-shadow: 0 3px 6px rgba(0,0,0,0.25);
  margin-bottom: 30px;
  letter-spacing: 1px;
  animation: fadeDown 1s ease-out;
}
@keyframes fadeDown {
  from {opacity: 0; transform: translateY(-20px);}
  to {opacity: 1; transform: translateY(0);}
}

/* CARD */
.container {
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(12px);
  border-radius: 22px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.1), inset 0 0 20px rgba(0,140,255,0.08);
  width: 100%;
  max-width: 520px;
  padding: 35px;
  margin-bottom: 30px;
  border: 2px solid rgba(0,123,255,0.25);
  transition: all 0.4s ease;
}
.container:hover {
  transform: translateY(-5px) scale(1.01);
  box-shadow: 0 18px 35px rgba(0,123,255,0.3);
}

/* INPUT */
label {
  display: block;
  font-weight: 600;
  color: #004b9a;
  margin-bottom: 6px;
  font-size: 1rem;
}

input {
  width: 90%;
  max-width: 400px;
  padding: 13px;
  margin: 10px auto 20px auto;
  border-radius: 10px;
  border: 2px solid #d6e4ff;
  background: linear-gradient(145deg, #fdfdff, #eef5ff);
  font-size: 15px;
  text-align: center;
  transition: all 0.3s ease;
  display: block;
}
input:focus {
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 12px rgba(0,123,255,0.4);
  transform: scale(1.03);
}

/* BUTTON */
button {
  background: linear-gradient(90deg, #007bff, #00aaff, #6a5af9);
  background-size: 200% 100%;
  color: #fff;
  font-weight: 700;
  font-size: 17px;
  border-radius: 12px;
  width: 90%;
  max-width: 400px;
  padding: 14px;
  cursor: pointer;
  border: none;
  transition: all 0.4s ease;
  box-shadow: 0 6px 15px rgba(0,123,255,0.35);
  position: relative;
  overflow: hidden;
}
button:hover {
  background-position: 100% 0;
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 12px 30px rgba(0,123,255,0.5);
}
button:active {
  transform: scale(0.97);
}
button.loading::before {
  content: '';
  display: inline-block;
  width: 16px; height: 16px;
  margin-right: 10px;
  border: 3px solid rgba(255,255,255,0.3);
  border-top-color: #fff;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}
@keyframes spin {to {transform: rotate(360deg);}}

/* RESULT */
#result {
  opacity: 0;
  transform: translateY(15px);
  transition: opacity 0.7s ease, transform 0.7s ease;
}
#result.show {
  opacity: 1;
  transform: translateY(0);
}
h2 {
  color: #006ae0;
  text-align: center;
  font-size: 1.4rem;
  margin-bottom: 12px;
  position: relative;
}
h2::after {
  content: "";
  display: block;
  width: 60px;
  height: 3px;
  margin: 8px auto;
  background: linear-gradient(90deg, #007bff, #6a5af9);
  border-radius: 2px;
  animation: glow 2s infinite alternate;
}
@keyframes glow {
  from {opacity: 0.4;}
  to {opacity: 1;}
}

/* TABLE */
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 6px 18px rgba(0,123,255,0.15);
  border: 1px solid rgba(0,123,255,0.25);
  animation: fadeIn 0.8s ease forwards;
}
th {
  background: linear-gradient(180deg, #007bff, #005ecb);
  color: #fff;
  padding: 12px;
  font-size: 1rem;
}
td {
  padding: 12px;
  font-size: 0.95rem;
  border-bottom: 1px solid rgba(0,123,255,0.1);
  background: #fafdff;
  text-align: center;
}
tr:nth-child(even) td { background: #eef4ff; }
tr:hover td {
  background: #e0ecff;
  box-shadow: inset 0 0 8px rgba(0,123,255,0.25);
  transform: scale(1.02);
}
.animated-row {opacity: 0; animation: slideIn 0.4s ease-out forwards;}
@keyframes slideIn {
  from {opacity: 0; transform: translateY(10px);}
  to {opacity: 1; transform: translateY(0);}
}

/* RESPONSIVE */
@media (max-width: 480px) {
  h1 {font-size: 2rem;}
  .container {padding: 25px;}
  input, button {width: 100%;}
  th, td {font-size: 0.9rem; padding: 10px;}
}
</style>
</head>
<body>

<h1>üßæ L·ªãch Tr√¨nh Ch·∫°y M√°y</h1>

<div class="container">
  <label for="startTime">‚è∞ Gi·ªù B·∫Øt ƒê·∫ßu:</label>
  <input type="text" id="startTime" placeholder="HH:MM ho·∫∑c 8h30">

  <label for="runTime">‚öôÔ∏è Th·ªùi Gian 1 Roll:</label>
  <input type="text" id="runTime" placeholder="VD: 1:15 ho·∫∑c 75">

  <label for="numRolls">üéûÔ∏è S·ªë Roll C·∫ßn Ch·∫°y:</label>
  <input type="number" id="numRolls" value="0" min="0"
    onfocus="if(this.value=='0')this.value='';"
    onblur="if(this.value=='')this.value='0';">

  <button id="calculateBtn" onclick="calculateSchedule()">üöÄ T√≠nh L·ªãch Tr√¨nh</button>
</div>

<div id="result" class="container">
  <p style="text-align:center;color:#777;">Nh·∫≠p th√¥ng tin ƒë·ªÉ xem l·ªãch tr√¨nh...</p>
</div>

<script>
function parseTime(input) {
  input = input.trim().toLowerCase().replace(/[h\s]/g, ':');
  if (/^\d{1,2}:\d{1,2}$/.test(input)) {
    let [h, m] = input.split(':').map(Number);
    return h * 60 + (m || 0);
  }
  if (/^\d{3,4}$/.test(input)) {
    let h = Math.floor(input / 100), m = input % 100;
    return h * 60 + m;
  }
  let n = parseInt(input);
  return isNaN(n) ? 0 : n;
}
function formatMinutesToTime(total) {
  const day = Math.floor(total / (24 * 60));
  const t = total % (24 * 60);
  const h = Math.floor(t / 60), m = t % 60;
  const time = `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}`;
  return day > 0 ? `${time} (Ng√†y +${day})` : time;
}

function calculateSchedule() {
  const btn = document.getElementById('calculateBtn');
  const resultDiv = document.getElementById('result');
  btn.innerHTML = ''; btn.classList.add('loading');

  setTimeout(() => {
    const startStr = document.getElementById('startTime').value;
    const runStr = document.getElementById('runTime').value;
    const rolls = parseInt(document.getElementById('numRolls').value);
    const startMin = parseTime(startStr);
    const runMin = parseTime(runStr);

    btn.classList.remove('loading');
    btn.innerHTML = 'üöÄ T√≠nh L·ªãch Tr√¨nh';

    if (!startStr || !runStr || isNaN(rolls) || rolls <= 0 || runMin <= 0) {
      resultDiv.innerHTML = '<p style="color:red;text-align:center;">‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·ªß v√† h·ª£p l·ªá.</p>';
      return;
    }

    let total = startMin;
    let html = '<h2>üìã L·ªãch Tr√¨nh Chi Ti·∫øt</h2>';
    html += '<table><thead><tr><th>Roll</th><th>B·∫Øt ƒê·∫ßu</th><th>K·∫øt Th√∫c</th></tr></thead><tbody>';
    for (let i = 1; i <= rolls; i++) {
      const st = formatMinutesToTime(total);
      const et = formatMinutesToTime(total + runMin);
      html += `<tr class="animated-row" style="animation-delay:${i * 0.07}s;"><td>Roll ${i}</td><td>${st}</td><td>${et}</td></tr>`;
      total += runMin;
    }
    html += '</tbody></table>';
    resultDiv.innerHTML = html;
    resultDiv.classList.add('show');
  }, 400);
}
</script>
</body>
</html>
